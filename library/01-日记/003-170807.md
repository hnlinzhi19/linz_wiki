# iso 微信打开通过location.href的方式调起App
日期： 20170807  天气：晴  
今天测试提了一个BUG说h5页面调起APP后，在去通过微信的更多用其他浏览器打开的时候并不能打开页面，还是调起了APP；  
步骤如下：
- 打开h5页面
- 点击按钮调起APP
- 返回到微信
- 点击更多
- 点击用Safari打开
- 还是调起App并没有打开Safari（期待结果是打开Safari）
---
为什么这样呢，因为我这边是通过location.href的方式调起的APP，这个时候url已经发生了变化，这样再用微信的方法去打开Safari就还是那个调起APP的url，所以存在问题了。  
解决方法：
  监听 visibilityChange 通过检查页面是否隐藏来刷新页面 当页面被隐藏的时候就刷新。
